---
import Layout from '../layouts/Layout.astro';
import DownloadButton from '../components/formation/DownloadButton.astro';
import { formations } from '../data/formations';
import Hero from '../components/formation/Hero.astro';
import Article from '../components/formation/Article.astro';

export function getStaticPaths() {
  // Génère automatiquement les routes à partir des clés de l'objet formations
  return Object.keys(formations).map(formation => ({
    params: { formation }
  }));
}

const { formation } = Astro.params;
const formationData = formations[formation];

if (!formationData) {
  return Astro.redirect('/404');
}
---

<Layout>
  <Hero />
  <Article formationData={formationData} />

</Layout>

